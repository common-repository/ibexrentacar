<?php
/*
Plugin Name: Ibexrentacar
Plugin URI: http://www.ibexrentacar.com/
Description: Plugin de WordPress para conectar tu blog con la plataforma de gestión de Ibexrentacar.
Version: 1.7
Author: Ibexestudio
Author URI: http://www.ibexrentacar.com
*/
?>
<script type="text/javascript">function ircpmobile(tabmenu){ jQuery("#ircpContent").hide(); jQuery("#ircploading").show(); window.location.href = "?page=ibexrentacar&tab="+tabmenu;}function ircprequired(){ jQuery(".ircpwpcontent input").css("border","1px solid #fa7d7e");}function ircptoggleId(e){ jQuery("#"+e).toggle();}function ircptoggleClass(e){jQuery("."+e).toggle();}jQuery(".nav-tab").on("click", function(){ jQuery("#ircpContent").hide(); jQuery("#ircploading").show();});function ircAlert(msg){ alert(msg);}function ircInsertDemo(usertype){if(confirm("<?php  echo _irct("¿Esta seguro de modificar sus parámetros de conexión?") ?>\n\n<?php  echo _irct("Acción") ?>: <?php  echo _irct("Nueva conexión con demo") ?> ("+usertype+")\n\n")==true){if(usertype=="admin"){jQuery("#ircpContent").hide(); jQuery("#ircploading").show();jQuery('#irc_apikey').val('a5e8426952bae467TkdmN09QUEZwQ0dqRTR1VHo4MGxQMjhsSVJCWFpNQ1NzMk9nWldOcUJMSDNhUWVjanlnb2lrZnhjTDZ0bjAyVg==');jQuery('#irc_password').val('admin');}if(usertype=="user"){jQuery("#ircpContent").hide(); jQuery("#ircploading").show();jQuery('#irc_apikey').val('157b0fbd3fbff039NENuSzZsb1VZZUVSczZMWmdUbDRVbjI5UnBmU09hNlhZeDlWMUp2WGlCd1JlTXpQMzEwdnVtK0tMS3VOVHNleg==');jQuery('#irc_password').val('user');}if(usertype=="affiliate"){jQuery("#ircpContent").hide(); jQuery("#ircploading").show();jQuery('#irc_apikey').val('5fqxya5fhzuqrPpImIpBIPe369LNxEUcdY1QF0dEbH0bZ/X3BZoFgQF83rtgPoFKOJbsNN8wC69FtP3rBioWfw==');jQuery('#irc_password').val('afiliado');}jQuery("#ircInsertUserType").dialog("close"); jQuery('#ircFrmDemo').submit();}}function ircInsertUserType(){ jQuery("#ircInsertUserType").dialog({ 'title' : "<?php  echo _irct("Insertar parámetros de conexión con demo") ?>",'width': "50%",'modal': true,'autoOpen': true,'closeOnEscape': true,'resizable': false, create: function(event,ui) { jQuery("#ircInsertUserType").removeClass("ircpdn"); jQuery(this).css("minWidth", "300px");jQuery(this).css("maxWidth", "450px"); jQuery(".ui-dialog").css("minWidth", "300px");jQuery(".ui-dialog").css("maxWidth", "450px"); } });}function ircptoggleTheme(thm){ jQuery(".ircwptheme").hide(); jQuery("#irc_wp_theme_"+thm).show(); }function ircResetSettings(){ if(confirm("<?php  echo _irct("¿Esta seguro de eliminar sus parámetros de conexión?") ?>\n\n")==true){ jQuery("#ircpContent").hide(); jQuery("#ircploading").show();jQuery('#irc_apikey').val('');jQuery('#irc_url').val('');jQuery('#irc_username').val('');jQuery('#irc_password').val('');jQuery('#ircFrmDemo').submit(); }}function ircCatImportbyLanguage(language){ jQuery(".ircp_langbutton_active").removeClass("ircp_langbutton_active").addClass("ircp_langbutton"); jQuery("#ircp_langbutton_"+language).addClass("ircp_langbutton_active"); jQuery(".ircp_import_categories").hide(); jQuery('#ircp_import_categories_'+language).show();}function ircPlaceImportbyLanguage(language){ jQuery(".ircp_langbutton_active").removeClass("ircp_langbutton_active").addClass("ircp_langbutton"); jQuery("#ircp_langbutton_"+language).addClass("ircp_langbutton_active"); jQuery(".ircp_import_places").hide(); jQuery('#ircp_import_places_'+language).show();}infobox_view = '';function viewtype(val){ if(val=='search' || val=='searchlarge' || val=='searchday' || val=='searchsmart'){ jQuery('#box-widget-size').hide('slow'); jQuery('#box-widget-size-mix').show('slow'); }else{ jQuery('#box-widget-size').show('slow'); jQuery('#box-widget-size-mix').hide('slow'); } if(val=='fleet'){ jQuery('#div_view_type,#div_view_vclass_sel,#div_view_fleetprice,#div_view_fleetcategory,#div_view_category').show('slow'); }else{ jQuery('#div_view_type,#div_view_vclass_sel,#div_view_fleetprice,#div_view_fleetcategory,#div_view_category').hide(); } if(val=='modeldata'){jQuery('#div_view_model').show('slow');}else{jQuery('#div_view_model').hide();} if(val=='featured'){jQuery('#div_view_featured_items').show('slow');jQuery('#div_view_featured_price').show('slow');}else{jQuery('#div_view_featured_items').hide();jQuery('#div_view_featured_price').hide();} if(val==''){ jQuery('#div_infobox').hide(); jQuery('#div_info_'+infobox_view).hide(); }else{ jQuery('#div_infobox').show(); jQuery('#div_info_'+infobox_view).hide(); jQuery('#div_info_'+val).show(); } infobox_view = val; PreviewWidget();}function PreviewWidget(){ jQuery('#box-preview-live-widget-loading').show(); jQuery('#wgaction').val("preview"); jQuery('#box-preview-live-widget').hide(); jQuery.ajax({ type: 'POST', url: '/wp-content/plugins/ibexrentacar/lib/irc/frontend/shortcode/shortirc.php', data: jQuery('#frm_widget_generate').serialize(), success: function(data) { jQuery('#box-preview-live-widget-loading').hide(); jQuery('#box-preview-live-widget').show(); jQuery('#box-preview-live-widget').html(data); jQuery('#wgaction').val("code"); jQuery('#box-preview-widget-loading').show(); jQuery('#box-preview-widget').hide(); jQuery.ajax({ type: 'POST', url: '/wp-content/plugins/ibexrentacar/lib/irc/frontend/shortcode/shortirc.php', data: jQuery('#frm_widget_generate').serialize(), success: function(data) { jQuery('#box-preview-widget-loading').hide(); jQuery('#box-preview-widget').show(); jQuery('#box-preview-widget').html(data); } }); } });}function toWidgetConfig(tview){ jQuery('#ircAppsMenuItemWidget').click(); jQuery("#ircAppsMenuItemWsconfig").attr("onclick","ircAppsLayout('tools','apps','widget','wconfig=1&type="+tview+"',this);"); jQuery('#ircAppsMenuItemWsconfig').click();}function ircInsertShPage(){ jQuery('#ircInsertShPageLoad').show(); jQuery('#ircInsertShPageContent').hide(); jQuery.ajax({ type: 'POST', url: irc_plugins_url+"/lib/wp/update.php", data: 'actions=1&irc_wpupdate_type=insertpage&wp_page='+jQuery('#ircInsertShPageID').val()+"&shortcode_page="+escape(jQuery('#ircInsertShPageCode').html()), cache: false, success: function(dataresult){ jQuery('#ircInsertShPageLoad').hide(); jQuery('#ircInsertShPageContent').html(dataresult); jQuery('#ircInsertShPageContent').show(); } }); }function sincronizafleet(){ jQuery('#irc_sincronizecat_load').show(); jQuery('#irc_sincronizecat_box').hide(); import_options = ""; if(jQuery('#irchk_import_default').is(':checked'))import_options += "&import_default_content=1"; if(jQuery('#irchk_import_widget_vehicle').is(':checked'))import_options += "&import_widget_vehicle=1"; if(jQuery('#irchk_import_delete_inactive').is(':checked'))import_options += "&import_delete_inactive=1"; if(jQuery('#irchk_import_model_image').is(':checked'))import_options += "&import_model_image=1"; jQuery.ajax({ type: 'POST', url: irc_plugins_url+"/lib/wp/update.php", data: 'actions=1&irc_wpupdate_type=fleet&'+irc_sincronizacat_url+import_options, cache: false, success: function(dataresult){ jQuery('#irc_sincronizecat_load').hide(); jQuery('#irc_sincronizecat_box').html(dataresult); jQuery('#irc_sincronizecat_box').show(); } })}function ircunsetwpfleet(){ if(confirm("<?php  echo _irct("¿Esta seguro que desea eliminar toda su flota de Wordpress?") ?>\n\n<?php  echo _irct("Nota") ?>:<?php  echo _irct("Esta acción es irreversible") ?>\n\n")==true){ jQuery('#irc_sincronizecat_load').show(); jQuery('#irc_sincronizecat_box').hide(); jQuery.ajax({ type: 'POST', url: irc_plugins_url+"/lib/wp/update.php", data: 'unset_wp_fleet=1&irc_wpupdate_type=fleet&'+irc_sincronizacat_url, cache: false, success: function(dataresult){ jQuery('#irc_sincronizecat_load').hide(); jQuery('#irc_sincronizecat_box').html(dataresult); jQuery('#irc_sincronizecat_box').show(); } }); }}function sincronizaplace(){ jQuery('#irc_sincronizeplace_load').show(); jQuery('#irc_sincronizeplace_box').hide(); import_options = "";if(jQuery('#irchk_import_default').is(':checked'))import_options += "&import_default_content=1"; if(jQuery('#irchk_import_place_map').is(':checked'))import_options += "&import_place_map=1"; if(jQuery('#irchk_import_place_image').is(':checked'))import_options += "&import_place_image=1"; if(jQuery('#irchk_import_delete_inactive').is(':checked'))import_options += "&import_delete_inactive=1"; jQuery.ajax({ type: 'POST', url: irc_plugins_url+"/lib/wp/update.php", data: 'actions=1&irc_wpupdate_type=place&'+irc_sincronizacat_url+import_options, cache: false, success: function(dataresult){ jQuery('#irc_sincronizeplace_load').hide(); jQuery('#irc_sincronizeplace_box').html(dataresult); jQuery('#irc_sincronizeplace_box').show(); } });}function ircunsetwpplaces(){ if(confirm("<?php  echo _irct("¿Esta seguro que desea eliminar todos sus lugares de Wordpress?") ?>\n\n<?php  echo _irct("Nota") ?>:<?php  echo _irct("Esta acción es irreversible") ?>\n\n")==true){ jQuery('#irc_sincronizeplace_load').show(); jQuery('#irc_sincronizeplace_box').hide(); jQuery.ajax({ type: 'POST', url: irc_plugins_url+"/lib/wp/update.php", data: 'unset_wp_places=1&irc_wpupdate_type=place&'+irc_sincronizacat_url, cache: false, success: function(dataresult) { jQuery('#irc_sincronizeplace_load').hide(); jQuery('#irc_sincronizeplace_box').html(dataresult); jQuery('#irc_sincronizeplace_box').show(); } }); }} var IRCeditor = false;function IRCCodeMirror(){ 'use strict'; jQuery('#IRCCodeMirror').removeClass("ircpdn"); if (IRCeditor){ }else{ if(jQuery('#IRCCodeMirrorEditor').length){ var editorSettings = wp.codeEditor.defaultSettings ? _.clone( wp.codeEditor.defaultSettings ) : {}; editorSettings.codemirror = _.extend({},editorSettings.codemirror,{ indentUnit: 2,tabSize: 2, mode: 'css', }); var editor = wp.codeEditor.initialize( jQuery('#IRCCodeMirrorEditor'), editorSettings ); IRCeditor = true; } }}function IRCCodeMirrorClose(){ jQuery('#IRCCodeMirror').addClass("ircpdn"); PreviewWidget(); }function IRCSaveCustomStyle(){ var editor = jQuery('.CodeMirror')[0].CodeMirror; jQuery('#IRCCodeMirrorLoad').show();jQuery('.CodeMirror').hide(); jQuery.ajax({ type: 'POST', url: irc_plugins_url+"/lib/wp/update.php", data: "actions=1&irc_wpupdate_type=savecss&ircnewcssfile="+escape(editor.getValue()), cache: false, success: function(dataresult){ jQuery('#IRCCodeMirrorLoad').hide(); jQuery('#IRCCodeMirrorResult').show(); setTimeout(function(){ jQuery('#IRCCodeMirrorResult').hide(); jQuery('.CodeMirror').show(); }, 2000); } });}</script>